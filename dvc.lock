schema: '2.0'
stages:
  split:
    cmd: python src/data/data_split.py
    deps:
    - path: data/raw/raw.csv
      hash: md5
      md5: 617b56af2992376d5c3e91ad80823898
      size: 333757
    - path: params.yaml
      hash: md5
      md5: 6d96a4fe101be083913cfc887c3aac4e
      size: 158
    - path: src/data/data_split.py
      hash: md5
      md5: eea4684782b8a605c04be818aee93cc6
      size: 1186
    params:
      params.yaml:
        split.random_state: 42
        split.test_size: 0.2
    outs:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 0e96e0ba3291417bed53b54b1f652a9d
      size: 52866
    - path: data/processed/X_train.csv
      hash: md5
      md5: 9c692a66c13c842645c9050e64165de0
      size: 210339
    - path: data/processed/y_test.csv
      hash: md5
      md5: f4af67a3212ab00e1efdd89341223f56
      size: 6473
    - path: data/processed/y_train.csv
      hash: md5
      md5: adf073bca29464cdfad732520f736bde
      size: 26009
  normalize:
    cmd: python src/data/normalize.py
    deps:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 0e96e0ba3291417bed53b54b1f652a9d
      size: 52866
    - path: data/processed/X_train.csv
      hash: md5
      md5: 9c692a66c13c842645c9050e64165de0
      size: 210339
    - path: src/data/normalize.py
      hash: md5
      md5: bd16c1c4d130a5b96e8c3f76d0e8cfe2
      size: 1018
    outs:
    - path: data/processed/X_test_scaled.csv
      hash: md5
      md5: e6ecc20747bef12fd87485ad86ffe375
      size: 57051
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: 5a53ba4e8232e6b1cd840e260550b65f
      size: 227423
  gridsearch:
    cmd: python src/models/grid_search.py
    deps:
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: 5a53ba4e8232e6b1cd840e260550b65f
      size: 227423
    - path: data/processed/y_train.csv
      hash: md5
      md5: adf073bca29464cdfad732520f736bde
      size: 26009
    - path: params.yaml
      hash: md5
      md5: 6d96a4fe101be083913cfc887c3aac4e
      size: 158
    - path: src/models/grid_search.py
      hash: md5
      md5: 19ea4be41dbbcee0aa509985e2eedd86
      size: 1789
    params:
      params.yaml:
        model.learning_rate:
        - 0.01
        - 0.1
        - 0.2
        model.max_depth:
        - 3
        - 5
        - 10
        model.n_estimators:
        - 50
        - 100
        - 200
    outs:
    - path: models/best_params.pkl
      hash: md5
      md5: 6aa6d445eb546e7fdbd9b788ca47abc2
      size: 72
  train:
    cmd: python src/models/training.py
    deps:
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: 5a53ba4e8232e6b1cd840e260550b65f
      size: 227423
    - path: data/processed/y_train.csv
      hash: md5
      md5: adf073bca29464cdfad732520f736bde
      size: 26009
    - path: models/best_params.pkl
      hash: md5
      md5: 6aa6d445eb546e7fdbd9b788ca47abc2
      size: 72
    - path: src/models/training.py
      hash: md5
      md5: 1bc57c6c6d7ea61eb22dd4eeeedc27e8
      size: 730
    outs:
    - path: models/gbr_model.pkl
      hash: md5
      md5: cc5bedc5e415b45d23a5107148d5d7b8
      size: 1113448
  evaluate:
    cmd: python src/data/evaluate.py
    deps:
    - path: data/processed/X_test_scaled.csv
      hash: md5
      md5: e6ecc20747bef12fd87485ad86ffe375
      size: 57051
    - path: data/processed/y_test.csv
      hash: md5
      md5: f4af67a3212ab00e1efdd89341223f56
      size: 6473
    - path: models/gbr_model.pkl
      hash: md5
      md5: cc5bedc5e415b45d23a5107148d5d7b8
      size: 1113448
    - path: src/data/evaluate.py
      hash: md5
      md5: 423cc66e1226a958f04566cc0e58c6b5
      size: 1191
    outs:
    - path: data/processed/prediction.csv
      hash: md5
      md5: a89a873982465ee146fbd72663b4fc75
      size: 6771
    - path: metrics/scores.json
      hash: md5
      md5: 299a152a3245da83071739d9a1514c30
      size: 95
